{% extends 'base.html.twig' %}

{% block title %}JeBenevole - {% trans %}association_list_page_title{% endtrans %}{% endblock %}

{% block body %}
    <h1>{% trans %}association_list_title{% endtrans %}</h1>

    <table>
        <thead>
            <tr>
                <th>Associations</th>
                <th>Emails</th>
                <th>Villes</th>
            </tr>
        </thead>
        <tbody>
            {% for association in associations %}
                <tr>
                    <td>{{ association.name }}</td>
                    <td>{{ association.email }}</td>
                    <td>{{ association.city }}({{ association.zip }})</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    {{ dump(paginator) }}

    {# page 1 si besoin #}
    {% if paginator['previous'] > 0 %}
        <a href="{{ path('associations', { page: '1' }) }}">1</a>
    {% endif %}

    {# page previous si 3+ #}
    {% if paginator['previous_page'] > 0 %}
        <a href="{{ path('associations', { page: paginator['previous_page'] }) }}">{{ paginator['previous_page'] }}</a>
    {% endif %}

    {# page courante #}
    <span>{{ paginator['current_page'] }}</span>
    {# page next #}
    {% if paginator['next'] < paginator['associations']|length %}
        <a href="{{ path('associations', { page: paginator['next_page'] }) }}">{{ paginator['next_page'] }}</a>
    {% endif %}

    {# page last si last - 1  #}
    {% if paginator['current_page'] < paginator['totalPage'] - 1 %}
        {#    {% if paginator['next'] < paginator['associations']|length - 1 %}#}
        <a href="{{ path('associations', { page: paginator['totalPage'] }) }}">{{ paginator['totalPage'] }}</a>
    {% endif %}

{% endblock %}